<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Products</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            padding: 20px;
        }

        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: #333;
        }

        .product-list {
            list-style-type: none;
            padding: 0;
            margin: 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px; /* Add gap between product cards */
        }

        .product-card {
            background-color: #fff;
            border-radius: 5px;
            padding: 20px;
            margin: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Enhance box shadow */
            transition: transform 0.2s ease;
            flex: 0 0 calc(25% - 20px);
            max-width: calc(25% - 20px);
            text-align: center;
        }

        .product-card:hover {
            transform: translateY(-5px);
            background-color: #f8f8f8; /* Change background color on hover */
        }

        .product-image {
            width: 100px;
            height: auto;
            margin-bottom: 10px;
            border: 2px solid #ddd; /* Add border */
            border-radius: 5px; /* Rounded corners */
            padding: 5px; /* Padding inside the border */
        }

        .product-name {
            font-size: 18px;
            margin-bottom: 10px;
            color: #333;
        }

        .product-name a:hover {
            color: #007bff; /* Change color on hover */
        }

        .product-price {
            color: #007bff;
            font-size: 16px;
            margin-bottom: 0;
        }

        .add-product-link {
            display: block;
            margin-top: 30px;
            text-align: center;
            font-size: 24px; /* Increase font size */
            color: #fff;
            background-color: #007bff;
            padding: 10px 20px;
            border-radius: 5px;
            text-decoration: none;
            transition: background-color 0.3s ease;
        }

        .add-product-link:hover {
            background-color: #0056b3;
        }

        /* Responsive Design */
        @media screen and (max-width: 768px) {
            .product-card {
                flex-basis: calc(50% - 20px);
                max-width: calc(50% - 20px);
            }
        }

        @media screen and (max-width: 576px) {
            .product-card {
                flex-basis: calc(100% - 20px);
                max-width: calc(100% - 20px);
            }
        }
    </style>
</head>

<body>
    <header>
        <h1>All Products</h1>
    </header>

    <main>
        <ul class="product-list">
            <% for(let product of products) {%>
            <li class="product-card">
                <a href="/products/<%=product._id %>"> <!-- Wrap the image with the <a> tag -->
                    <img src="/public/images/<%=product.image %>" class="product-image" alt="<%=product.name %>">
                </a>
                <div class="product-details">
                    <div class="product-name">
                        <a href="/products/<%=product._id %>"> <!-- You can also wrap the name with the <a> tag for consistency -->
                            <%=product.name%>
                        </a>
                    </div>
                    <div class="product-price">$<%=product.price.toFixed(2)%></div>
                </div>
            </li>
            <%}%>
        </ul>

        <!-- Pagination -->
<nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">
        <% if (currentPage > 1) { %>
            <li class="page-item">
                <a class="page-link" href="/products?page=<%=currentPage - 1 %>" tabindex="-1">Previous</a>
            </li>
        <% } %>
        <% for(let i = 1; i <= totalPages; i++) { %>
            <li class="page-item <%= i === currentPage ? 'active' : '' %>">
                <a class="page-link" href="/products?page=<%=i %>"><%=i %></a>
            </li>
        <% } %>
        <% if (currentPage < totalPages) { %>
            <li class="page-item">
                <a class="page-link" href="/products?page=<%=currentPage + 1 %>">Next</a>
            </li>
        <% } %>
    </ul>
</nav>

    </main>

    <footer>
        <a href="/products/new" class="add-product-link">Add Product</a>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>

</html>
